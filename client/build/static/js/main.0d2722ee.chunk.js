(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a(16),o=a(74),s=a(27),i=a(10),u=a(65),d=a(4),m=a(42),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(d.a)(Object(d.a)({},e),{},{isAuthenticated:!m(t.json),user:t.json});case"SET_CUSTOMERS":return Object(d.a)(Object(d.a)({},e),{},{customersFound:!m(t.json),customersData:t.json});case"SET_WALLET":return Object(d.a)(Object(d.a)({},e),{},{isWalletLoaded:!m(t.json),wallet:t.json});case"SET_WALLET1":return Object(d.a)(Object(d.a)({},e),{},{isWallet1Loaded:!m(t.json),wallet1:t.json});case"SET_CURRENT_USER_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loginError:t.error,user:t.json});default:return e}},b=a(42),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(d.a)(Object(d.a)({},e),{},{productsFound:!b(t.json),products:t.json});default:return e}},p=a(42),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORDERS":return Object(d.a)(Object(d.a)({},e),{},{ordersFound:!p(t.json),orders:t.json});default:return e}},g=Object(s.c)({userReducer:f,productsReducer:E,ordersReducer:h}),v=a(11),w=a.n(v),O=a(12),j=a(15),y=a.n(j),x=function(e){e?y.a.defaults.headers.common.Authorization=e:delete y.a.defaults.headers.common.Authorization},N=a(9),S=a.n(N),C=function(e){return y.a.post("http://localhost:5000/api/user/register",e)},k=function(e){return y.a.post("http://localhost:5000/api/user/login",e)},T=function(e){return y.a.post("http://localhost:5000/api/user/passwordLessLogin",e)},L=function(e){return y.a.post("http://localhost:5000/api/user/forgot",e)},P=function(e){return y.a.get("http://localhost:5000/api/user/getCurrencies")},R=function(e){return y.a.post("http://localhost:5000/api/user/changePassword",e)},B=function(e){return y.a.post("http://localhost:5000/api/user/verifyEmail",e)},A=function(e){return y.a.post("http://localhost:5000/api/user/sendVerificationEmail",e)},I=function(e){return y.a.post("http://localhost:5000/api/user/loadWallet",e)},D=function(){return y.a.get("http://localhost:5000/api/products")},U=function(e){return y.a.post("http://localhost:5000/api/order/create",e)},_=function(e){return y.a.post("http://localhost:5000/api/order",e)},F=function(e){return y.a.post("http://localhost:5000/api/order/refund",e)},W=function(e){return y.a.post("http://localhost:5000/api/user",e)},K=function(e){return y.a.post("http://localhost:5000/api/user/getWallet",e)},V=function(e){return y.a.post("http://localhost:5000/api/user/delete",e)},G=function(e){return y.a.post("http://localhost:5000/api/deposit/balance",e)},Y=w.a.mark(X),q=w.a.mark(Q),M=w.a.mark(Z),z=w.a.mark($),H=w.a.mark(ee),J=w.a.mark(te);function X(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k(e.userData).then((function(e){var t=e.data.token;return localStorage.setItem("jwtToken",t),x(t),S()(t)})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_CURRENT_USER",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),Y,null,[[0,8]])}function Q(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,K(e.userData).then((function(e){return e.data})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_WALLET1",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),q,null,[[0,8]])}function Z(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W(e.userData).then((function(e){return e.data})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_CUSTOMERS",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),M,null,[[0,8]])}function $(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,I(e).then((function(e){return e.data})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_WALLET",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),z,null,[[0,8]])}function ee(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("jwtToken"),x(!1),e.next=4,Object(O.b)({type:"SET_CURRENT_USER",json:{}});case 4:case"end":return e.stop()}}),H)}function te(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("LOGIN_USER",X);case 2:return e.next=4,Object(O.c)("GET_CUSTOMERS",Z);case 4:return e.next=6,Object(O.c)("LOAD_WALLET",$);case 6:return e.next=8,Object(O.c)("GET_WALLET1",Q);case 8:return e.next=10,Object(O.c)("LOGOUT_USER",ee);case 10:case"end":return e.stop()}}),J)}var ae=w.a.mark(re),ne=w.a.mark(ce);function re(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D().then((function(e){return e})).catch((function(e){throw e.response.data}));case 3:return e=t.sent,t.next=6,Object(O.b)({type:"SET_PRODUCTS",json:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:t.t0});case 12:case"end":return t.stop()}}),ae,null,[[0,8]])}function ce(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("GET_PRODUCTS",re);case 2:case"end":return e.stop()}}),ne)}var le=w.a.mark(se),oe=w.a.mark(ie);function se(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_(e.userData).then((function(e){return e})).catch((function(e){throw e.response.data}));case 3:return t=a.sent,a.next=6,Object(O.b)({type:"SET_ORDERS",json:t});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(O.b)({type:"SET_CURRENT_USER_FAILED",error:a.t0});case 12:case"end":return a.stop()}}),le,null,[[0,8]])}function ie(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)("GET_ORDERS",se);case 2:case"end":return e.stop()}}),oe)}var ue=w.a.mark(de);function de(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([te(),ce(),ie()]);case 2:case"end":return e.stop()}}),ue)}var me=a(14),fe=function(e){return{type:"GET_WALLET1",userData:e}},be=function(){return{type:"LOGOUT_USER"}},Ee=a(135),pe=a(136),he=a(3),ge=a.n(he);var ve={logOutUser:be},we=(Object(i.b)((function(e){return{user:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),ve)((function(e){var t=e.logOutUser,a=e.isAuthenticated,c=(e.history,{color:"white",fontWeight:"bold"});return Object(n.useEffect)((function(){}),[a]),r.a.createElement(Ee.a,{style:{color:"white"},variant:"dark",bg:"dark",expand:"sm"},r.a.createElement(l.b,{to:"/",activeStyle:c,exact:!0,className:"navbar-brand"},"Home"),r.a.createElement(Ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Ee.a.Collapse,{id:"basic-navbar-nav"},a?r.a.createElement(pe.a,{className:"mr-auto navbar-right-section"},r.a.createElement(l.b,{to:"/products",activeStyle:c,className:"nav-link"},"Products"),r.a.createElement(l.b,{to:"/wallet",activeStyle:c,className:"nav-link"},"Wallet"),r.a.createElement(l.b,{to:"/changePassword",activeStyle:c,className:"nav-link"},"Change Password "),r.a.createElement("a",{className:"nav-link pointer",onClick:function(e){return function(e){e.preventDefault(),ge.a.fire({title:"Confirm Logout ! ",text:"Are you sure you want to log out ? ",icon:"info",confirmButtonText:"Yes, Logout ",confirmButtonColor:"#007bff",denyButtonText:"No, Cancel",showDenyButton:!0}).then((function(e){e.isConfirmed&&t()}))}(e)}},"Logout")):r.a.createElement(pe.a,{className:"mr-auto navbar-right-section"},r.a.createElement(l.b,{to:"/register",activeStyle:c,className:"nav-link"},"Register"),r.a.createElement(l.b,{to:"/login",activeStyle:c,className:"nav-link"},"Login"))))})),function(){return r.a.createElement("h1",null,"Oops! Page not found.")}),Oe=a(18),je=a(6);var ye=function(e){var t=e.history,a=Object(n.useState)({name:"",email:"",password:"",confirmPassword:"",passwordLess:!1}),c=Object(je.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),i=Object(je.a)(s,2),u=i[0],m=i[1],f=Object(n.useState)(!1),b=Object(je.a)(f,2),E=b[0],p=b[1],h=Object(n.useState)(!1),g=Object(je.a)(h,2);function v(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,n))})),m((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,""))}))}return g[0],g[1],r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Sign up."),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Create new account !"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=l.name,t=l.email,a=(l.password,l.confirmPassword,{});return e||(a.name="*Name is required."),t||(a.email="*Email is required"),m(a),0===Object.keys(a).length}()&&(ge.a.fire({title:"Creating Account ! ",html:"Please wait while we are setting up your account ...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}}),p(!0),C(l).then((function(){p(!1),ge.a.fire({title:"Account Created !",text:"Please check your email inbox to verify your email address !  ",icon:"success",confirmButtonText:"Login ",confirmButtonColor:"#007bff"}),t.push("/login"),o({name:"",email:"",password:"",confirmPassword:""})})).catch((function(e){p(!1),console.log(e.response.data),e.response.data.alreadyExists?ge.a.fire({title:"Failed  ! ",text:"This Email is already associated with another account !",icon:"error",confirmButtonText:"Login To Account ",confirmButtonColor:"#007bff",denyButtonText:"Use Another Email",showDenyButton:!0}).then((function(e){console.log(e),e.isConfirmed&&t.push("/login"),e.isDenied&&o((function(e){return Object(d.a)(Object(d.a)({},e),{},{email:""})}))})):ge.a.fire({title:"Failed   ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})})))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"text",disabled:E,value:l.name,onChange:v,class:"form-control form-control-xl",name:"name",placeholder:"Full Name"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-person"}))),u.name?r.a.createElement("div",{className:"form-error"},u.name):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"text",disabled:E,value:l.email,onChange:v,class:"form-control form-control-xl",name:"email",placeholder:"Email Address"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-envelope"}))),u.email?r.a.createElement("div",{className:"form-error"},u.email):null,l.passwordLess?"":r.a.createElement("div",null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{disabled:E,value:l.password,onChange:v,type:"password",class:"form-control form-control-xl",name:"password",placeholder:"Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{disabled:E,value:l.confirmPassword,onChange:v,type:"password",class:"form-control form-control-xl",name:"confirmPassword",placeholder:"Confirm Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"})))),r.a.createElement("div",{class:"form-check"},r.a.createElement("div",{class:"checkbox"},r.a.createElement("input",{onChange:function(){return o((function(e){return Object(d.a)(Object(d.a)({},e),{},{passwordLess:!l.passwordLess})}))},name:"passwordLess",type:"checkbox",id:"checkbox1",class:"form-check-input",checked:l.passwordLess}),r.a.createElement("label",{for:"checkbox1"},"Password Less Signup "))),r.a.createElement("button",{disabled:E,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Sign Up")),r.a.createElement("div",{class:"text-center mt-5 text-lg fs-4"},r.a.createElement("p",{class:"text-gray-600"},"Already have an account ? ",r.a.createElement("a",{onClick:function(){return t.push("/login")},class:"pointer font-bold"},"Sign in")),r.a.createElement("p",null,r.a.createElement("a",{class:"font-bold pointer",onClick:function(){return t.push("/forgot")}},"Forgot password?"))),E?r.a.createElement("center",null,r.a.createElement("div",{className:"loading-spinner"}," ",r.a.createElement("img",{width:"90",src:"loading.gif"}),"  ")):r.a.createElement("div",{className:"loading-spinner"}))))))},xe={loginUser:function(e){return{type:"LOGIN_USER",userData:e}}},Ne=Object(i.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,loginResponsePayload:e.userReducer.user,loginError:e.userReducer.loginError}}),xe)((function(e){var t=e.history,a=e.loginUser,c=e.loginError,l=e.isAuthenticated,o=(e.loginResponsePayload,Object(n.useState)({email:"",password:"",passwordLess:!1})),s=Object(je.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)({}),f=Object(je.a)(m,2),b=f[0],E=f[1],p=Object(n.useState)(!1),h=Object(je.a)(p,2),g=h[0],v=h[1];function w(e){var t=e.target,a=t.name,n=t.value;u((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,n))})),E((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,""))}))}function O(){v(!1),ge.a.fire({title:"Success ! ",text:"You Have successfully logged in to your Account ! ",icon:"success",confirmButtonText:"View Dashboard",confirmButtonColor:"#007bff"}).then((function(){t.push("/products")}))}function j(){v(!1),401==c.statusCode?ge.a.fire({title:"Email Not Verified !",text:c.message,icon:"warning",confirmButtonText:"Resend Email",confirmButtonColor:"#007bff",denyButtonText:"Close",showDenyButton:!0}).then((function(e){e.isConfirmed&&A({email:i.email}).then((function(){ge.a.fire({title:"Email Sent ! ",text:"Please check your inbox for Email Verification Link ! ",icon:"info",confirmButtonText:"Verified ? Click Here to Login Now",confirmButtonColor:"#007bff"}).then((function(){t.push("/login")}))})).catch((function(e){ge.a.fire({title:"Email Sending Failed !",text:e.message,icon:"warning",confirmButtonText:"Close",confirmButtonColor:"#007bff"})}))})):ge.a.fire({title:"Login Failed !",text:c.message,icon:"error",confirmButtonText:"Okay, Try Again ",confirmButtonColor:"red"})}function y(){c&&j(),l&&O()}return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("tmp");if(e)try{if(null==typeof e||void 0==typeof e)throw new Error("Invalid Login Link ");var n=S()(e),r=Date.now()/1e3;n.exp<r?ge.a.fire({title:"Invalid/Expired  Link ",text:"This Link is Invalid/Expired, Please Try again  !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/forgot")})):(ge.a.fire({title:"Logging In ! ",html:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}}),v(!0),a({passwordLess:!0,token:e}),y())}catch(c){ge.a.fire({title:"Invalid/Expired  Link ",text:"This Link is Invalid/Expired, Please reset your password again !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/forgot")}))}}),[]),Object(n.useEffect)((function(){l&&O()}),[l,t]),Object(n.useEffect)((function(){y()}),[c]),r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Log in."),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Login to acces your dashboard."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=i.email,t=i.password,a=i.passwordLess,n={};return e||(n.email="*Email is required"),t||a||(n.password="*Password is required"),E(n),0===Object.keys(n).length}()&&(i.passwordLess?(ge.a.fire({title:"Sending  Login Link  ",html:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}}),T(i).then((function(e){ge.a.fire({title:"Login Link Sent",icon:"success"})})).catch((function(e){ge.a.fire({title:"Failed",html:e.message,icon:"error"})}))):(ge.a.fire({title:"Logging In ! ",html:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}}),v(!0),a(i),y()))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"text",disabled:g,value:i.email,onChange:w,class:"form-control form-control-xl",name:"email",placeholder:"Email Address"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-person"}))),b.email?r.a.createElement("div",{className:"form-error"},b.email):null,i.passwordLess?"":r.a.createElement("div",null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{disabled:g,value:i.password,onChange:w,type:"password",class:"form-control form-control-xl",name:"password",placeholder:"Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),b.password?r.a.createElement("div",{className:"form-error"},b.password):null),r.a.createElement("div",{class:"form-check"},r.a.createElement("div",{class:"checkbox"},r.a.createElement("input",{onChange:function(){return u((function(e){return Object(d.a)(Object(d.a)({},e),{},{passwordLess:!i.passwordLess})}))},name:"passwordLess",type:"checkbox",id:"checkbox1",class:"form-check-input",checked:i.passwordLess}),r.a.createElement("label",{for:"checkbox1"},"Password Less Login "))),r.a.createElement("button",{disabled:g,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Log in")),r.a.createElement("div",{class:"text-center mt-5 text-lg fs-4"},r.a.createElement("p",{class:"text-gray-600"},"Don't have an account? ",r.a.createElement("a",{onClick:function(){return t.push("/register")},class:"pointer font-bold"},"Sign up")),r.a.createElement("p",null,r.a.createElement("a",{class:"font-bold pointer",onClick:function(){return t.push("/forgot")}},"Forgot password?"))),g?r.a.createElement("center",null,r.a.createElement("div",{className:"loading-spinner"}," ",r.a.createElement("img",{width:"90",src:"loading.gif"}),"  ")):r.a.createElement("div",{className:"loading-spinner"}))))))})),Se=a(26);var Ce=function(e){var t=e.history,a=Object(n.useState)({email:""}),c=Object(je.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({}),i=Object(je.a)(s,2),u=i[0],m=i[1],f=Object(n.useState)(!1),b=Object(je.a)(f,2),E=b[0],p=b[1];return r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Forgot Password"),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Input your email and we will send you reset password link."),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e={};return l.email||(e.email="*Email is required"),m(e),0===Object.keys(e).length}()&&(p(!0),ge.a.fire({title:"Password Reset ! ",html:"Sending Password Reset Link, Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}}),L(l).then((function(){p(!1),ge.a.fire({title:"Password Reset  ! ",text:"Password Reset Link has been Sent to Your Email, Please Check Your Email Inbox !  ",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#007bff"}).then((function(){o({email:""}),t.push("/login")}))})).catch((function(e){p(!1),console.log(e.response.data),Se.b.error(),ge.a.fire({title:"Password Reset ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})})))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"email",onChange:function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,n))})),m((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,""))}))},value:l.email,name:"email",class:"form-control form-control-xl",placeholder:"Email"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-envelope"}))),u.email?r.a.createElement("div",{className:"form-error"},u.email):null,r.a.createElement("button",{disabled:E,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Reset Password ")),r.a.createElement("div",{class:"text-center mt-5 text-lg fs-4"},r.a.createElement("p",{class:"text-gray-600"},"Remember your account ? ",r.a.createElement("a",{onClick:function(){return t.push("/login")},class:"pointer font-bold"},"Log in"),".")))))))},ke={getNews:function(){return{type:"GET_NEWS"}}},Te=Object(i.b)((function(e){return{article:e.newsReducer.news}}),ke)((function(e){var t=e.getNews,a=e.article;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t},"Press to see news"),console.log({article:a}),a?a.map((function(e){return r.a.createElement("h1",null,e.title)})):r.a.createElement("h2",null,"nothing"))}));var Le={logOutUser:be},Pe=Object(i.b)((function(e){return{user:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated,userProfile:e.userReducer.user}}),Le)((function(e){var t=e.logOutUser,a=(e.isAuthenticated,e.history,e.loadWallet,e.userProfile,Object(n.useState)("customer")),c=Object(je.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("jwtToken");"admin"==S()(e).type&&s("admin")}),[]),r.a.createElement("div",null,r.a.createElement("div",{id:"sidebar",className:"active"},r.a.createElement("div",{className:"sidebar-wrapper active"},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"logo"},r.a.createElement("a",{style:{textAlign:"center"}},"Dashboard")),r.a.createElement("div",{className:"toggler"},r.a.createElement("a",{href:"#",className:"sidebar-hide d-xl-none d-block"},r.a.createElement("i",{className:"bi bi-x bi-middle"}))))),r.a.createElement("div",{className:"sidebar-menu"},r.a.createElement("ul",{className:"menu"},r.a.createElement(l.b,{to:"/products"},r.a.createElement("li",{className:"sidebar-item ".concat(window.location.href.includes("products")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-cart4"}),r.a.createElement("span",null,"Buy Products")))),r.a.createElement(l.b,{to:"/orders"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("orders")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-menu-button-wide"}),r.a.createElement("span",null,"Orders")))),r.a.createElement(l.b,{to:"/wallet"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("wallet")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-grid-1x2-fill"}),r.a.createElement("span",null,"Wallet")))),"admin"==o?r.a.createElement(l.b,{to:"/customers"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("customers")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-person"}),r.a.createElement("span",null,"Customers")))):"",r.a.createElement("hr",null),r.a.createElement(l.b,{to:"/changePassword"},r.a.createElement("li",{className:"sidebar-item  ".concat(window.location.href.includes("changePass")?"active":"")},r.a.createElement("a",{className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-puzzle"}),r.a.createElement("span",null,"Change Password")))),r.a.createElement(l.b,{to:"/transactions"},r.a.createElement("li",{className:"sidebar-item "},r.a.createElement("a",{onClick:function(e){e.preventDefault(),ge.a.fire({title:"Confirm Logout ! ",text:"Are you sure you want to log out ? ",icon:"info",confirmButtonText:"Yes, Logout ",confirmButtonColor:"#435ebe",denyButtonText:"No, Cancel",showDenyButton:!0}).then((function(e){e.isConfirmed&&t()}))},style:{cursor:"pointer"},className:"sidebar-link"},r.a.createElement("i",{className:"bi bi-power"}),r.a.createElement("span",null,"Logout")))))),r.a.createElement("button",{className:"sidebar-toggler btn x"},r.a.createElement("i",{"data-feather":"x"})))))}));var Re={logOutUser:be},Be=Object(i.b)((function(e){return{user:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Re)((function(e){var t=e.history,a=e.logOutUser,c=Object(n.useState)({password:"",confirmPassword:"",userId:""}),l=Object(je.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)({}),u=Object(je.a)(i,2),m=u[0],f=u[1],b=Object(n.useState)(!1),E=Object(je.a)(b,2),p=E[0],h=E[1];function g(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,n))})),f((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(Oe.a)({},a,""))}))}return Object(n.useEffect)((function(){if(localStorage.jwtToken){var e=localStorage.jwtToken,t=S()(e);s((function(e){return Object(d.a)(Object(d.a)({},e),{},{userId:t.id})}))}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{className:"register-form"},r.a.createElement("div",{id:"auth"},r.a.createElement("div",{class:"row h-100 justify-content-center"},r.a.createElement("div",{class:"col-lg-5 col-12"},r.a.createElement("br",null),r.a.createElement("div",{id:"auth-left",className:""},r.a.createElement("h1",{class:"auth-title"},"Password."),r.a.createElement("p",{class:"auth-subtitle mb-5"},"Change Your Password "),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=o.password,t=o.confirmPassword,a={};return e||(a.password="*Password is required"),t||(a.confirmPassword="*Confirm password is required"),f(a),0===Object.keys(a).length}()&&(ge.a.fire({title:"Changing Password  ! ",html:"Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}}),h(!0),R(o).then((function(e){h(!1),ge.a.fire({title:"Password Changed !",text:"You Password Has Been Updated Successfully, Please Login Again ! ",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#007bff"}).then((function(){a(),s({password:"",confirmPassword:""}),t.push("/login")}))})).catch((function(e){h(!1),console.log(e.response.data),Se.b.error(),ge.a.fire({title:"Failed ! ",text:e.response.data.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"})})))}},r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"password",disabled:p,value:o.password,onChange:g,class:"form-control form-control-xl",name:"password",placeholder:"New Password"}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),m.password?r.a.createElement("div",{className:"form-error"},m.password):null,r.a.createElement("div",{class:"form-group position-relative has-icon-left mb-4"},r.a.createElement("input",{type:"password",disabled:p,value:o.confirmPassword,onChange:g,class:"form-control form-control-xl",name:"confirmPassword",placeholder:"Re-Enter New Password "}),r.a.createElement("div",{class:"form-control-icon"},r.a.createElement("i",{class:"bi bi-shield-lock"}))),m.password?r.a.createElement("div",{className:"form-error"},m.confirmPassword):null,r.a.createElement("button",{disabled:p,type:"submit",class:"btn btn-primary btn-block btn-lg shadow-lg mt-5"},"Update Password"))))))))})),Ae=a(75),Ie=Object(i.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated}}),null)((function(e){var t=e.component,a=e.isAuthenticated,n=Object(Ae.a)(e,["component","isAuthenticated"]);return r.a.createElement(me.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(me.a,{to:"/"})}}))}));a(119);var De=function(e){var t=e.history,a=Object(n.useState)({password:"",confirmPassword:"",userId:""}),c=Object(je.a)(a,2),l=(c[0],c[1]),o=Object(n.useState)({}),s=Object(je.a)(o,2),i=(s[0],s[1],Object(n.useState)(!1)),u=Object(je.a)(i,2),m=(u[0],u[1],Object(n.useState)("Update Account Password ")),f=Object(je.a)(m,2);return f[0],f[1],Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("uid");if(e)try{if(null==typeof e||void 0==typeof e)throw new Error("Invalid Token");var a=S()(e),n=Date.now()/1e3;a.exp<n?ge.a.fire({title:"Invalid/Expired  Link ",text:"This Link is Invalid/Expired, Please reset your password again !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/forgot")})):l((function(e){return Object(d.a)(Object(d.a)({},e),{},{userId:a.id})}))}catch(r){ge.a.fire({title:"Invalid/Expired  Link ",text:"This Link is Invalid/Expired, Please reset your password again !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/forgot")}))}}),[]),r.a.createElement("div",{className:"register-form"},r.a.createElement("center",null,r.a.createElement("div",{className:"loading-spinner"},r.a.createElement("img",{width:"90",src:"loading.gif"}),"  "),": ",r.a.createElement("div",{className:"loading-spinner"}),r.a.createElement("br",null),r.a.createElement("h3",null,"Loggin In, Please Wait . . . . "),r.a.createElement("hr",null),r.a.createElement("br",null)))};var Ue=function(e){var t=e.history,a=Object(n.useState)(!0),c=Object(je.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("uid");if(e)try{if(null==typeof e||void 0==typeof e)throw new Error("Invalid Token");var a=S()(e);B({userId:a.id}).then((function(){o(!1),ge.a.fire({title:"Email Verified !",text:"Email Verified Successfully, Login to Continue ! ",icon:"success",confirmButtonText:"Login",confirmButtonColor:"#007bff"}).then((function(){t.push("/login")}))})).catch((function(e){ge.a.fire({title:"Verification Failed !",text:e.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/login")}))}))}catch(n){ge.a.fire({title:"Verification Failed ! ",text:"Verification Link is Invalid/Expired !",icon:"error",confirmButtonText:"OK",confirmButtonColor:"red"}).then((function(){t.push("/login")}))}}),[]),r.a.createElement("div",{className:"register-form"},l?r.a.createElement("div",{className:"loading-spinner"}," ",r.a.createElement("img",{width:"90",src:"loading.gif"}),"  "):r.a.createElement("div",{className:"loading-spinner"}),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("center",null,"Verifying Email . . . . ")),r.a.createElement("hr",null),r.a.createElement("br",null))};var _e={loadWallet:function(e){return{type:"LOAD_WALLET",userData:e}}},Fe=Object(i.b)((function(e){return{isAuthenticated:e.userReducer.isAuthenticated,userProfile:e.userReducer.user,walletUpdated:e.userReducer.isWalletLoaded}}),_e)((function(e){return e.userProfile,e.walletUpdated,e.isAuthenticated,Object(n.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{style:{textAlign:"center"}})))))))})),We={getProducts:function(){return{type:"GET_PRODUCTS"}}},Ke=Object(i.b)((function(e){return{productsData:e.productsReducer.products,productFound:e.productsReducer.productsFound,userProfile:e.userReducer.user}}),We)((function(e){var t=e.getProducts,a=(e.history,e.productsData),c=e.productFound,l=(e.userProfile,Object(n.useState)({name:"",email:"",password:"",confirmPassword:""})),o=Object(je.a)(l,2),s=(o[0],o[1],Object(n.useState)([])),i=Object(je.a)(s,2),u=(i[0],i[1],Object(n.useState)(!1)),d=Object(je.a)(u,2);d[0],d[1];function m(e){var t=localStorage.getItem("jwtToken"),a=(S()(t),e.quantity>0?'<span class="badge bg-success">In Stock</span>':' <span class="badge bg-danger">Out of Stock</span>'),n=e.keywords.map((function(e,t){return'<span class="badge bg-light-primary">'+e+"</span>"}));ge.a.fire({title:"<strong>Product Details</strong>",html:'<div class="row"><div class="col-lg-12"> <img width="250" class="img-fluid" src='+e.image+' alt="Product Image"  /><br/><br/></div><div class="col-lg-12">  <table class="table table-bordered mb-0"><tr><td class="text-bold-500"><strong>Product</strong></td><td>'+e.title+'</td></tr><tr><td class="text-bold-500"><strong>Description</strong></td>   <td>'+e.description+'</td></tr>     <tr>         <td class="text-bold-500"><strong>Price</strong></td>        <td>'+e.currency[0].symbol+" "+e.price+'</td>    </tr>     <tr>         <td class="text-bold-500"><strong>Brand</strong></td>        <td>'+e.brand+'</td>    </tr>     <tr>         <td class="text-bold-500"><strong>Keywords</strong></td>        <td>'+n+'</td>    </tr>     <tr>         <td class="text-bold-500"><strong>Status</strong></td>        <td>'+a+"</td>    </tr>  </div></div>",showCloseButton:!0,width:"40rem",showCancelButton:!0,focusConfirm:!1,confirmButtonText:"Buy Now",confirmButtonAriaLabel:"Buy Now",cancelButtonText:"Cancel",cancelButtonAriaLabel:"Cancel"}).then((function(t){t.isConfirmed&&function(e){var t=localStorage.getItem("jwtToken"),a=S()(t);if("admin"==a.type)return alert("Admin Account be used for purchases "),"";var n=ge.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});n.fire({title:"Confirm Order  ? ",text:"Are you sure you want to Place Order  ?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Confirm Purchase ",cancelButtonText:"No, Cancel ! ",reverseButtons:!1}).then((function(t){if(t.isConfirmed){ge.a.fire({title:"Processing! ",html:"Processing Your Order , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}});var r={userId:a.id,product:e};U(r).then((function(e){e.insuffecientBalance?n.fire("Failed ! ","Insuffecient Wallet Balance","error"):n.fire("Confirmed !","Order Placed, We have recieved your order ! ","success")})).catch((function(e){"Request failed with status code 433"==e.message?n.fire("Failed ! ","Insuffecient Wallet Balance ","error"):n.fire("Failed ! ",e.message,"error")}))}}))}(e)}))}return Object(n.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Buy Products")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},c?a.data.products.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-6 col-lg-3 col-md-6"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-content"},r.a.createElement("img",{class:"card-img-top img-fluid",src:e.image,alt:"Card image cap",style:{height:"10rem",contain:"cover"}}),r.a.createElement("div",{class:"card-body"},r.a.createElement("h4",{class:"card-title"},e.title),r.a.createElement("p",{class:"card-text"},e.description),r.a.createElement("p",{class:"card-text"},"Status : ",r.a.createElement("span",{class:"badge bg-success"},"In Stock")),r.a.createElement("div",null,r.a.createElement("h4",{style:{float:"left"},class:"card-title"},e.currency[0].symbol," ",e.price),r.a.createElement("button",{style:{width:"100px",float:"right"},onClick:function(){m(e)},class:"btn btn-sm btn-primary"},r.a.createElement("b",null,"  ",r.a.createElement("i",{className:"bi bi-cart-check"})," Buy Now"))),r.a.createElement("br",null)))))})):"")))),r.a.createElement(Fe,null)))}));var Ve=function(){return r.a.createElement("div",{id:"app"},r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Dashboard")),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 col-lg-4 col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body px-3 py-4-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"stats-icon purple"},r.a.createElement("i",{className:"iconly-boldShow"}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",{className:"text-muted font-semibold"},"Wallet Balance"),r.a.createElement("h6",{className:"font-extrabold mb-0"},"112")))))),r.a.createElement("div",{className:"col-6 col-lg-4 col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body px-3 py-4-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"stats-icon blue"},r.a.createElement("i",{className:"iconly-boldProfile"}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",{className:"text-muted font-semibold"},"Orders"),r.a.createElement("h6",{className:"font-extrabold mb-0"},"4")))))),r.a.createElement("div",{className:"col-6 col-lg-4 col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body px-3 py-4-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"stats-icon green"},r.a.createElement("i",{className:"iconly-boldAdd-User"}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",{className:"text-muted font-semibold"},"Transactions"),r.a.createElement("h6",{className:"font-extrabold mb-0"},"5"))))))))))))};var Ge={getOrders:function(e){return{type:"GET_ORDERS",userData:e}}},Ye=Object(i.b)((function(e){return{ordersData:e.ordersReducer.orders,ordersFound:e.ordersReducer.ordersFound,userProfile:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Ge)((function(e){var t,a=e.getOrders,c=(e.history,e.ordersData),l=e.ordersFound,o=e.userProfile,s=e.isAuthenticated,i=Object(n.useState)({name:"",email:"",password:"",confirmPassword:""}),u=Object(je.a)(i,2),d=(u[0],u[1],Object(n.useState)([])),m=Object(je.a)(d,2),f=(m[0],m[1],Object(n.useState)(!1)),b=Object(je.a)(f,2),E=b[0],p=b[1];return Object(n.useEffect)((function(){if(s&&!E){var e=localStorage.getItem("jwtToken"),t=S()(e);if(t.emailVerified){var n={userId:t.id};a(n),p(!0)}}}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"My Orders ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table table-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Order ID"),r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Order Status"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,l?null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.orders.map((function(e,t){var n,c;return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-bold-500"},null===e||void 0===e?void 0:e._id),r.a.createElement("td",null,null===e||void 0===e||null===(n=e.productDetails[0])||void 0===n?void 0:n.title),r.a.createElement("td",null,null===e||void 0===e||null===(c=e.productDetails[0])||void 0===c?void 0:c.price),r.a.createElement("td",{className:"text-bold-500"},null===e||void 0===e?void 0:e.status),r.a.createElement("td",{className:"text-bold-500"},"REFUNDED"!=(null===e||void 0===e?void 0:e.status)&&"admin"==o.type?r.a.createElement("button",{onClick:function(){return function(e){var t=localStorage.getItem("jwtToken"),n=S()(t),r=ge.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});r.fire({title:"Confirm Refund  ? ",text:"Are you sure you want to Refund Order  ?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Confirm  ",cancelButtonText:"No, Cancel ! ",reverseButtons:!1}).then((function(t){if(t.isConfirmed){ge.a.fire({title:"Processing! ",html:"Processing  , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}});var c={adminId:n.id,orderId:e._id};F(c).then((function(e){var t={userId:n.id};a(t),r.fire("Order Refunded","Order Refunded, Amount credited to user Wallet ","success")})).catch((function(e){r.fire("Failed ! ",e.message,"error")}))}}))}(e)},className:"btn btn-primary btn-sm"},"Refund"):" - "))})):"Loading Orders . . . . ")))))))),r.a.createElement(Fe,null)))})),qe=a(71),Me=a.n(qe),ze={getWallet1:fe},He=Object(i.b)((function(e){return{wallet1:e.userReducer.wallet1,wallet1Loaded:e.userReducer.isWallet1Loaded,userProfile:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),ze)((function(e){e.getOrders,e.history,e.wallet1;var t=e.wallet1Loaded,a=e.userProfile,c=e.isAuthenticated,l=Object(n.useState)([]),o=Object(je.a)(l,2),s=(o[0],o[1]),i=Object(n.useState)([]),u=Object(je.a)(i,2),d=u[0],m=u[1],f=Object(n.useState)(0),b=Object(je.a)(f,2),E=(b[0],b[1]),p=Object(n.useState)([]),h=Object(je.a)(p,2),g=(h[0],h[1],Object(n.useState)(!1)),v=Object(je.a)(g,2),w=v[0],O=v[1],j=Object(n.useState)(0),y=Object(je.a)(j,2),x=(y[0],y[1],Object(n.useState)(0)),N=Object(je.a)(x,2),C=(N[0],N[1],Object(n.useState)(0)),k=Object(je.a)(C,2),T=(k[0],k[1],Object(n.useState)([])),L=Object(je.a)(T,2),R=L[0],B=L[1],A=Object(n.useState)(""),I=Object(je.a)(A,2),D=I[0],U=I[1],_=Object(n.useState)(!0),F=Object(je.a)(_,2),W=F[0],V=F[1],Y=Object(n.useState)(""),q=Object(je.a)(Y,2),M=q[0],z=q[1];function H(){O(!1),V(!0);var e=localStorage.getItem("jwtToken"),t=(S()(e),{userId:M});console.log("Currencyt Updated "),""!=D&&(console.log("Currencyt Updated "),t.currencyId=D),K(t).then((function(e){var t=[];console.log("Balance Sheet Data ",e);var a=0,n=0,r=0;e.data.result.map((function(e,c){a+=e.credit-e.debit,t.push({_id:e._id,credit:e.credit,debit:e.debit,rowBalance:a,currencyId:e.currencyId,description:e.description,userId:e.userId}),n+=e.credit,r+=e.debit}));var c=n-r;m(t),E(c),s(e.data),V(!1),O(!0)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){if(c&&!w){var e=localStorage.getItem("jwtToken"),t=S()(e);if(t.emailVerified){var a={userId:t.id};fe(a),O(!0)}}}),[t,c]),Object(n.useEffect)((function(){var e=localStorage.getItem("jwtToken"),t=S()(e);z(t.id),V(!0),console.log("Fetching Currencies "),P().then((function(e){console.log("Currecneis response",e.data.data),B(e.data.data),V(!1)})),H()}),[]),Object(n.useEffect)((function(){H()}),[D,M]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Wallet Details ")),r.a.createElement("hr",null),r.a.createElement(Me.a,{active:W,spinner:!0,text:"Fetching  Data . . . "},r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("h5",{style:{textAlign:"left",margin:"10px"}}," ",r.a.createElement("select",{style:{width:"300px",float:"left"},onChange:function(e){U(e.target.value)},class:"form-select",id:"basicSelect"},r.a.createElement("option",{value:""},"----- All Wallets ----- "),R.map((function(e,t){return r.a.createElement("option",{value:e._id},e.currency," ( ",e.symbol," )")}))),"admin"==a.type&&a.id!=M?r.a.createElement("button",{style:{marginLeft:"10px",cursor:"normal"},type:"button",class:"btn btn-primary"},M," ",r.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){return z(a.id)},class:"badge bg-transparent"},"X ")):"","customer"==(null===a||void 0===a?void 0:a.type)?r.a.createElement("button",{style:{float:"right"},className:"btn btn-primary btn-sm",onClick:function(){return function(){var e=R.map((function(e,t){return"<option value="+e._id+">"+e.currency+"( "+e.symbol+" ) </option>"})),t=ge.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});t.fire({title:"Enter Amount ! ",icon:"info",html:'<select class="form-select" id="currencyId"><option disbaled selected >--Choose Wallet --</option>'+e+'</select><br/><input placeholder="Enter Amount " class="form-control" type="number" id="amount" />',showCancelButton:!0,confirmButtonText:"Confirm  ",cancelButtonText:"Cancel ",reverseButtons:!1,preConfirm:function(){return[document.getElementById("currencyId").value,document.getElementById("amount").value]}}).then((function(e){if(e.isConfirmed){ge.a.fire({title:"Processing ! ",html:"Adding Balance to Wallet  , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}});var n={currencyId:e.value[0],userId:a.id,amount:e.value[1]};V(!0),G(n).then((function(e){V(!1),H(),t.fire("Success !","Balance Added to Wallet  Successfully !  ","success")})).catch((function(e){t.fire("Failed ! ",e.message,"error")}))}}))}()}},"Add Balance "):""))),r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"card"},r.a.createElement("br",null),r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table table-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Transaction ID"),"admin"==a.type?r.a.createElement("th",null,"User ID"):"",r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Wallet "),r.a.createElement("th",null,"Debit"),r.a.createElement("th",null,"Credit"),""!=D?r.a.createElement("th",null,"Balance "):"")),r.a.createElement("tbody",null,w?null===d||void 0===d?void 0:d.reverse().map((function(e,t){var n,c,l,o=0,s=0;return(o+=e.credit)-(s+=e.debit),r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-bold-500"},e._id),"admin"==a.type?r.a.createElement("td",{onClick:function(){return z(e.userId)},style:{cursor:"pointer",textDecoration:"underline"},className:"text-bold-500"},r.a.createElement("b",null,e.userId)):"",r.a.createElement("td",null,e.description),r.a.createElement("td",null," ",null===(n=R.find((function(t){return t._id==e.currencyId})))||void 0===n?void 0:n.currency," "),r.a.createElement("td",{className:"text-bold-500"}," ",null!=e.debit?r.a.createElement("span",{class:"badge bg-light-danger"},null===(c=R.find((function(t){return t._id==e.currencyId})))||void 0===c?void 0:c.symbol," ",e.debit):" - "),r.a.createElement("td",{className:"text-bold-500"}," ",null!=e.credit?r.a.createElement("span",{class:"badge bg-light-success"}," ",null===(l=R.find((function(t){return t._id==e.currencyId})))||void 0===l?void 0:l.symbol," ",e.credit):" - "),""!=D?r.a.createElement("th",null,e.rowBalance," "):"")})):""))))))))),r.a.createElement(Fe,null)))})),Je={getCustomers:function(e){return{type:"GET_CUSTOMERS",userData:e}}},Xe=Object(i.b)((function(e){return{customersData:e.userReducer.customersData,customersFound:e.userReducer.customersFound,userProfile:e.userReducer.user,isAuthenticated:e.userReducer.isAuthenticated}}),Je)((function(e){var t=e.getCustomers,a=(e.history,e.customersData),c=e.customersFound,l=e.userProfile,o=e.isAuthenticated,s=Object(n.useState)(!1),i=Object(je.a)(s,2),u=i[0],d=i[1];return Object(n.useEffect)((function(){if(o&&!u){var e=localStorage.getItem("jwtToken"),a=S()(e);if(a.emailVerified){var n={adminId:a.id};t(n),c&&d(!0)}}}),[o,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{id:"main"},r.a.createElement("header",{className:"mb-3"},r.a.createElement("a",{href:"#",className:"burger-btn d-block d-xl-none"},r.a.createElement("i",{className:"bi bi-justify fs-3"}))),r.a.createElement("div",{className:"page-heading"},r.a.createElement("h3",null,"Customers ")),r.a.createElement("hr",null),r.a.createElement("div",{className:"page-content"},r.a.createElement("section",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"table-responsive"},r.a.createElement("table",{class:"table table-lg"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Email Verified"),r.a.createElement("th",null,"Wallet Address"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,c?null===a||void 0===a?void 0:a.customers.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"text-bold-500"},e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.emailVerified?"Yes":"NO"),r.a.createElement("td",{className:"text-bold-500"},e.walletAddress),r.a.createElement("td",{className:"text-bold-500"},r.a.createElement("button",{onClick:function(){return function(e){var a=ge.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!0});a.fire({title:"Confirm  ? ",text:"Are you sure you want to Delete User ?",icon:"info",showCancelButton:!0,confirmButtonText:"Yes, Delete ",cancelButtonText:"No, Cancel ! ",reverseButtons:!1}).then((function(n){if(n.isConfirmed){ge.a.fire({title:"Processing ! ",html:"Deleting User , Please wait...",allowEscapeKey:!1,allowOutsideClick:!1,didOpen:function(){ge.a.showLoading()}});var r={adminId:l.id,userId:e._id};V(r).then((function(e){t({adminId:r.adminId}),a.fire("Deleted !","User Deleted Successfully !  ","success")})).catch((function(e){a.fire("Failed ! ",e.message,"error")}))}}))}(e)},class:"btn btn-danger btn-sm"}," Delete user")))})):"Loading Data . . . . ")))))))),r.a.createElement(Fe,null)))})),Qe={logOutUser:be,setCurrentUser:function(e){return{type:"SET_CURRENT_USER",json:e}}},Ze=Object(i.b)(null,Qe)((function(e){var t=e.setCurrentUser,a=e.logOutUser;return Object(n.useEffect)((function(){if(localStorage.jwtToken){var e=localStorage.jwtToken;x(e);var n=S()(e);console.log(n),t(n);var r=Date.now()/1e3;n.exp<r&&(console.log("true"),a(),window.location.href="/login")}}),[t,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(me.d,null,r.a.createElement(me.b,{exact:!0,path:"/",component:Ne}),r.a.createElement(Ie,{path:"/dashboard",component:Ve}),r.a.createElement(Ie,{path:"/customers",component:Xe}),r.a.createElement(Ie,{path:"/orders",component:Ye}),r.a.createElement(Ie,{path:"/wallet",component:He}),r.a.createElement(me.b,{path:"/login",component:Ne}),r.a.createElement(Ie,{exact:!0,path:"/products",component:Ke}),r.a.createElement(me.b,{exact:!0,path:"/passwordLess",component:De}),r.a.createElement(Ie,{exact:!0,path:"/changePassword",component:Be}),r.a.createElement(me.b,{exact:!0,path:"/register",component:ye}),r.a.createElement(me.b,{exact:!0,path:"/news",component:Te}),r.a.createElement(me.b,{exact:!0,path:"/emailverification",component:Ue}),r.a.createElement(me.b,{exact:!0,path:"/forgot",component:Ce}),r.a.createElement(me.b,{component:we})),r.a.createElement(Se.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1}))})),$e=Object(o.a)(),et=Object(s.e)(g,Object(s.a)($e,u.logger));$e.run(de),Object(c.render)(r.a.createElement(i.a,{store:et},r.a.createElement(l.a,null,r.a.createElement(Ze,null))),document.getElementById("root"))},76:function(e,t,a){e.exports=a(131)}},[[76,1,2]]]);
//# sourceMappingURL=main.0d2722ee.chunk.js.map